{% extends "langchain/base.html" %}

{% block title %}Create New Prompt - DARIA{% endblock %}

{% block content %}
<div class="container">
    <div class="header">
        <h1>Create New Prompt Template</h1>
        <a href="{{ url_for('prompts.prompt_list') }}" class="btn btn-outline-secondary">
            <i class="fas fa-arrow-left me-2"></i> Back to Prompts
        </a>
    </div>

    <form method="POST" action="{{ url_for('prompts.new_prompt') }}">
        <div class="card mb-4">
            <div class="card-header">
                <h5>Basic Information</h5>
            </div>
            <div class="card-body">
                <div class="mb-3">
                    <label for="agent_name" class="form-label">Agent Name</label>
                    <input type="text" class="form-control" id="agent_name" name="agent_name" required>
                    <div class="form-text">A unique name for this agent (e.g., "Daria", "Thesea")</div>
                </div>
                
                <div class="mb-3">
                    <label for="role" class="form-label">Role</label>
                    <input type="text" class="form-control" id="role" name="role" required>
                    <div class="form-text">The functional role of this agent in the research process</div>
                </div>
                
                <div class="mb-3">
                    <label for="description" class="form-label">Description</label>
                    <textarea class="form-control" id="description" name="description" rows="3" required></textarea>
                    <div class="form-text">A detailed description of what this agent does</div>
                </div>
                
                <div class="mb-3">
                    <label for="tone" class="form-label">Tone</label>
                    <input type="text" class="form-control" id="tone" name="tone" required>
                    <div class="form-text">Communication style (e.g., "Professional, empathetic, curious")</div>
                </div>
            </div>
        </div>
        
        <div class="card mb-4">
            <div class="card-header">
                <h5>Core Objectives</h5>
            </div>
            <div class="card-body">
                <div class="mb-3">
                    <label for="core_objectives" class="form-label">Core Objectives</label>
                    <textarea class="form-control" id="core_objectives" name="core_objectives" rows="6" required></textarea>
                    <div class="form-text">Enter each objective on a new line</div>
                </div>
            </div>
        </div>
        
        <div class="card mb-4">
            <div class="card-header">
                <h5>Instructions & Prompting</h5>
            </div>
            <div class="card-body">
                <div class="mb-3">
                    <label for="contextual_instructions" class="form-label">Contextual Instructions</label>
                    <textarea class="form-control" id="contextual_instructions" name="contextual_instructions" rows="8" required></textarea>
                    <div class="form-text">Detailed instructions about how the agent should operate</div>
                </div>
                
                <div class="mb-3">
                    <label for="dynamic_prompt_prefix" class="form-label">Dynamic Prompt Prefix</label>
                    <textarea class="form-control" id="dynamic_prompt_prefix" name="dynamic_prompt_prefix" rows="10" required></textarea>
                    <div class="form-text">The LangChain prompt prefix used to guide agent behavior</div>
                </div>
                
                <div class="mb-3">
                    <label for="analysis_prompt" class="form-label">Analysis Prompt</label>
                    <textarea class="form-control" id="analysis_prompt" name="analysis_prompt" rows="10"></textarea>
                    <div class="form-text">The prompt used for analyzing interview transcripts</div>
                </div>
            </div>
        </div>
        
        <div class="d-flex justify-content-between mb-4">
            <a href="{{ url_for('prompts.prompt_list') }}" class="btn btn-outline-secondary">Cancel</a>
            <button type="submit" class="btn btn-primary">Create Prompt</button>
        </div>
    </form>
</div>
{% endblock %} 